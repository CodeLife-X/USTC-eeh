{% extends 'File.html' %}
{% block File_content %}
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="generator" content="Aspose.Words for .NET 15.1.0.0" /><title></title></head><body><div><h2 style="font-size:22pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:center; widows:0"><span style="font-family:宋体; font-size:22pt; font-weight:bold">常用外设原理介绍</span></h2><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">下面对一些常见外设进行介绍</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009643"><span style="font-family:Calibri; font-size:16pt; font-weight:bold">LED</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 0.1pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯，又称</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">发光二极管，原理图如下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 0.1pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.001.png" width="130" height="85" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 0.1pt; orphans:0; widows:0"><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">发光二极管有</span><span style="font-family:Calibri; font-size:10.5pt">P</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">N</span><span style="font-family:宋体; font-size:10.5pt">两极，具有普通二极管的单向导电性，当</span><span style="font-family:Calibri; font-size:10.5pt">P</span><span style="font-family:宋体; font-size:10.5pt">极电压高于</span><span style="font-family:Calibri; font-size:10.5pt">N</span><span style="font-family:宋体; font-size:10.5pt">极电压，且达到一定阈值之后（一般为</span><span style="font-family:Calibri; font-size:10.5pt">0.7V</span><span style="font-family:宋体; font-size:10.5pt">，与其材质有关），二极管开始导通，并开始发光。反之，二极管无法导通，不会发光。由于</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯导通后电阻几乎为零，应此在实际使用过程中往往会串接上一个</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">10K</span><span style="font-family:宋体; font-size:10.5pt">左右的电阻，以达到限流的作用。一般来说，发光二极管的工作电流在</span><span style="font-family:Calibri; font-size:10.5pt">10mA</span><span style="font-family:宋体; font-size:10.5pt">左右，可根据电源电压、</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">压降、工作电流计算出串接电阻的阻值大小。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 0.1pt; orphans:0; widows:0"><span style="font-family:宋体; font-size:10.5pt">实际电路中有两种连接方式：</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">N</span><span style="font-family:宋体; font-size:10.5pt">极接地，</span><span style="font-family:Calibri; font-size:10.5pt">P</span><span style="font-family:宋体; font-size:10.5pt">极通过一个电阻后与控制端相连。</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">P</span><span style="font-family:宋体; font-size:10.5pt">极通过串接电阻后与电源相连，</span><span style="font-family:Calibri; font-size:10.5pt">N</span><span style="font-family:宋体; font-size:10.5pt">极作为控制端。如下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 0.1pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.002.png" width="335" height="148" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 0.1pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">以方式</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">为例来说，当控制端输出电压为高电平时，</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯亮；当控制端输出电压为低电平时，</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯灭。第二种情况与此类似，不再赘述。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009644"><span style="font-family:宋体; font-size:16pt; font-weight:bold">拨动开关</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">拨动开关是一种比较简单的输入设备，一般具有两个档位，实物图如下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.003.png" width="105" height="84" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">其使用方式如下图所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.004.png" width="324" height="171" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">将</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">与地相连，</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">与电源相连，</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">通过一串接电阻后作为输入端。当拨动开关处于</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">短接的档位时，输入端为低电平；拨动开关处于</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">短接的档位时，输入端为高电平。因此，通过改变拨动开关的档位，便可以控制输入端的高低电平。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009645"><span style="font-family:宋体; font-size:16pt; font-weight:bold">独立按键</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">按键是另外一种比较常见的输入设备，其外形多种多样，但工作方式基本相同。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.005.png" width="89" height="86" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; widows:0"><span style="font-family:宋体; font-size:10.5pt">如上图所示的四脚按键，其内部两两相连。原理图如下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.006.png" width="249" height="103" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; widows:0"><span style="font-family:宋体; font-size:10.5pt">按键默认状态时</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">短接，</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">短接，按键按下后，</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">全部短接在一起。一种用法如下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.007.png" width="342" height="60" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; widows:0"><span style="font-family:宋体; font-size:10.5pt">其中串接的两个电阻均为</span><span style="font-family:Calibri; font-size:10.5pt">10K</span><span style="font-family:宋体; font-size:10.5pt">，按键按下时，输入端为高电平；松开后，输入端为低电平。此种连接方式下，输入端的默认电平为低电平。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; widows:0"><span style="font-family:宋体; font-size:10.5pt">还有一种连接方式，如下图所示，输入端的默认电平为高电平，此种连接方式常用于一些低电平有效的信号输入，如复位信号等。对于复位信号来说，电容的存在可以使得系统在刚刚上电时，输入端保持一定时间的低电平，从而达到上电复位的目的，复位时间的长短由电阻及电容共同决定。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.008.png" width="346" height="84" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">此外，还有一种自锁式的按键开关，</span><span style="font-family:宋体; font-size:10.5pt">在开关按钮第一次按时，开关接通并保持，即自锁，在开关按钮第二次按时，开关断开，同时开关按钮弹出来</span><span style="font-family:宋体; font-size:10.5pt">。自锁式按键的功能与拨动开关基本相同，此处不再详细说明。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009646"><span style="font-family:宋体; font-size:16pt; font-weight:bold">七段数码管</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">我们最常用的是七段式和八段式</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">数码管，八段比七段多了一个小数点，其他基本相同。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.009.png" width="94" height="109" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">所谓的八段就是指数码管里有八个小</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">发光二极管，通过控制不同的</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">的亮灭来显示出不同的字形。数码管又分为共阴极和共阳极两种类型，其实共阴极就是将八个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">的阴极连在一起，让其接地，这样给任何一个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">的另一端高电平，它便能点亮。而共阳极就是将八个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">的阳极连在一起。其原理图如下。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.010.png" width="130" height="232" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.011.png" width="147" height="213" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.012.png" width="138" height="196" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">其中引脚图的两个</span><span style="font-family:Calibri; font-size:10.5pt">COM</span><span style="font-family:宋体; font-size:10.5pt">端连在一起，是公共端，共阴数码管要将其接地，共阳数码管将其接正电源。一个八段数码管称为一位，多个数码管并列在一起可构成多位数码管，它们的段选线（即</span><span style="font-family:Calibri; font-size:10.5pt">a,b,c,d,e,f,g,dp</span><span style="font-family:宋体; font-size:10.5pt">）连在一起，而各自的公共端称为位选线。显示时，都从段选线送入字符编码，而选中哪个位选线，那个数码管便会被点亮。数码管的</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">段，对应一个字节的</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位，</span><span style="font-family:Calibri; font-size:10.5pt">a</span><span style="font-family:宋体; font-size:10.5pt">对应最低位，</span><span style="font-family:Calibri; font-size:10.5pt">dp</span><span style="font-family:宋体; font-size:10.5pt">对应最高位。所以如果想让数码管显示数字</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">，那么共阴数码管的字符编码为</span><span style="font-family:Calibri; font-size:10.5pt">00111111</span><span style="font-family:宋体; font-size:10.5pt">，即</span><span style="font-family:Calibri; font-size:10.5pt">0x3f</span><span style="font-family:宋体; font-size:10.5pt">；共阳数码管的字符编码为</span><span style="font-family:Calibri; font-size:10.5pt">11000000</span><span style="font-family:宋体; font-size:10.5pt">，即</span><span style="font-family:Calibri; font-size:10.5pt">0xc0</span><span style="font-family:宋体; font-size:10.5pt">。可以看出两个编码的各位正好相反。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">一位数码管要显示字符</span><span style="font-family:Calibri; font-size:10.5pt">0~F</span><span style="font-family:宋体; font-size:10.5pt">，则对应的编码如下所示：</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.013.png" width="342" height="271" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">数码管本质上也是由</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">构成的，因此在实际使用中，需要串接限流电阻，以共阳极数码管为例来说：</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.014.png" width="456" height="156" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009647"><span style="font-family:宋体; font-size:16pt; font-weight:bold">动态数码管</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">一个数码管称为一位，多个数码管并列在一起可构成多位数码管，它们的段选线（即</span><span style="font-family:Calibri; font-size:10.5pt">a,b,c,d,e,f,g,dp</span><span style="font-family:宋体; font-size:10.5pt">）连在一起，而各自的公共端称为位选线。显示时，都从段选线送入字符编码，而选中哪个位选线，那个数码管便会被点亮。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; text-indent:21.2pt; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.015.png" width="186" height="87" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">目前常用的是</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">位一体的数码管。其接口电路是把所有数码管的</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个笔划段</span><span style="font-family:Calibri; font-size:10.5pt">a-h</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">h</span><span style="font-family:宋体; font-size:10.5pt">即</span><span style="font-family:Calibri; font-size:10.5pt">dp</span><span style="font-family:宋体; font-size:10.5pt">端）同名端连接起来，而每一个数码管由一个独立的公共极</span><span style="font-family:Calibri; font-size:10.5pt">COM</span><span style="font-family:宋体; font-size:10.5pt">端控制。对于这种结构的数码管，采用动态显示的方法是最为广泛的一种显示方式之一。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">下图所示的电路是由两个</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">位的共阳极数码管组成的一个</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位的动态扫描显示电路。为增加驱动能力，在每个位选线处增加了一个</span><span style="font-family:Calibri; font-size:10.5pt">PNP</span><span style="font-family:宋体; font-size:10.5pt">三极管。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.016.png" width="477" height="212" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">对于此</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位的共阳极数码管，如要其显示“</span><span style="font-family:Calibri; font-size:10.5pt">8.8.8.8.8.8.8.8.</span><span style="font-family:宋体; font-size:10.5pt">”，需要做如下工作：</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，将</span><span style="font-family:Calibri; font-size:10.5pt">A</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">H</span><span style="font-family:宋体; font-size:10.5pt">的段选线全部设为低电平。</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">，将</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个位选线全部设为高电平。但是，由于位选线是由</span><span style="font-family:Calibri; font-size:10.5pt">PNP</span><span style="font-family:宋体; font-size:10.5pt">三极管构成的反相器所驱动，因此只有将相应三极管的基极（</span><span style="font-family:Calibri; font-size:10.5pt">B</span><span style="font-family:宋体; font-size:10.5pt">极）（即端口</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">）设为低电平，三极管导通，位选线才会变为高电平。综上所述，上图中的电路，</span><span style="font-family:Calibri; font-size:10.5pt">P5</span><span style="font-family:宋体; font-size:10.5pt">端口及</span><span style="font-family:Calibri; font-size:10.5pt">P12</span><span style="font-family:宋体; font-size:10.5pt">端口全部变为低电平的时候，数码管才能显示“</span><span style="font-family:Calibri; font-size:10.5pt">8.8.8.8.8.8.8.8.</span><span style="font-family:宋体; font-size:10.5pt">”。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">那如何操作才能使得该数码管上显示不同的数据呢？答案是时分复用。即采用动态扫描的方式。例如，要在该数码管上显示“</span><span style="font-family:Calibri; font-size:10.5pt">12345678</span><span style="font-family:宋体; font-size:10.5pt">”，应该如下实现</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，时刻</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，将最左侧的数码管的位选线置为有效，其余</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">个全部置为无效，同时将段选线设为显示</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">的数值（此处为</span><span style="font-family:Calibri; font-size:10.5pt">0x06</span><span style="font-family:宋体; font-size:10.5pt">）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">，时刻</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">，将最左侧第二个数码管的位选线置为有效，其余</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">个全部置为无效，同时将段选线设为显示</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">的数值（此处为</span><span style="font-family:Calibri; font-size:10.5pt">0x5B</span><span style="font-family:宋体; font-size:10.5pt">）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">，时刻</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">依次类推，直至到最右侧数码管显示为</span><span style="font-family:Calibri; font-size:10.5pt">8</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">，循环重复上述</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">过程。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">通过上述操作，则</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个数码管能够分别显示不同的数值，但每一时刻只有一个数码管处于发光状态。如上述过程足够快（每秒钟循环</span><span style="font-family:Calibri; font-size:10.5pt">30</span><span style="font-family:宋体; font-size:10.5pt">次以上），由于人眼的视觉残留效应，会感觉到</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个数码管在同时发光，并且显示出不同的数值。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">注意，循环频率也不宜过快，以</span><span style="font-family:Calibri; font-size:10.5pt">30</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">100Hz</span><span style="font-family:宋体; font-size:10.5pt">为宜。</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009648"><span style="font-family:Calibri; font-size:16pt; font-weight:bold">LED</span><span style="font-family:宋体; font-size:16pt; font-weight:bold">点阵</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">点阵分为共阴极和共阳极两类，如下图所示，左边为共阴极右边为共阳极。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt 14.2pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.017.png" width="422" height="231" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">以</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">×</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">共阴极</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">点阵为例，共包含</span><span style="font-family:Calibri; font-size:10.5pt">64</span><span style="font-family:宋体; font-size:10.5pt">个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯，构成</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">行</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">列的点阵，每一行的</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯的阴极接在一起，由行使能信号控制，阳极分别接到</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个列控制信号上。同理，每一列的</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">灯的阳极接在一起，由列使能信号控制，阴极分别接到</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个行使能信号上。通过</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个行使能信号及</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个列使能信号，可以独立的控制</span><span style="font-family:Calibri; font-size:10.5pt">64</span><span style="font-family:宋体; font-size:10.5pt">个</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">中每一个灯的亮灭。但是通常情况下，都是采用行扫描的方式进行显示。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">阵列的显示方式是按显示编码的顺序，一行一行地显示。每一行的显示时间大约为</span><span style="font-family:Calibri; font-size:10.5pt">4ms,</span><span style="font-family:宋体; font-size:10.5pt">由于人类的视觉暂留现象，将感觉到</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">行</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">是在同时显示的。若显示的时间太短，则亮度不够，若显示的时间太长，将会感觉到闪烁。本文采用低电平逐行扫描，高电平输出显示信号。即轮流给行信号输出低电平，在任意时刻只有一行发光二极管是处于可以被点亮的状态</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，其它行都处于熄灭状态。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">如下图所示，使用</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">个</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">×</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">的</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">点阵，可以扩展成一个</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">×</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">的</span><span style="font-family:Calibri; font-size:10.5pt">LED</span><span style="font-family:宋体; font-size:10.5pt">点阵，为增加驱动能力，可以通过一</span><span style="font-family:Calibri; font-size:10.5pt">PNP</span><span style="font-family:宋体; font-size:10.5pt">反向放大器来控制行选择信号。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.018.png" width="461" height="307" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009649"><span style="font-family:Calibri; font-size:16pt; font-weight:bold">1602</span><span style="font-family:宋体; font-size:16pt; font-weight:bold">液晶屏</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">字符型液晶显示模块是一种专门用于显示字母、数字、符号等点阵式</span><span style="font-family:Calibri; font-size:10.5pt">LCD</span><span style="font-family:宋体; font-size:10.5pt">，目前常用</span><span style="font-family:Calibri; font-size:10.5pt">16*1</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">16*2</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">20*2</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">40*2</span><span style="font-family:宋体; font-size:10.5pt">行等的模块。</span><span style="font-family:Calibri; font-size:10.5pt">16*2</span><span style="font-family:宋体; font-size:10.5pt">的显示模块通常称为</span><span style="font-family:Calibri; font-size:10.5pt">1602.</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602LCD</span><span style="font-family:宋体; font-size:10.5pt">分为带背光和不带背光两种，基控制器大部分为</span><span style="font-family:Calibri; font-size:10.5pt">HD44780</span><span style="font-family:宋体; font-size:10.5pt">，带背光的比不带背光的厚，是否带背光在应用中并无差别。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.019.png" width="225" height="113" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.020.png" width="226" height="111" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602LCD</span><span style="font-family:宋体; font-size:10.5pt">采用标准的</span><span style="font-family:Calibri; font-size:10.5pt">14</span><span style="font-family:宋体; font-size:10.5pt">脚（无背光）或</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">脚（带背光）接口，各引脚接口说明如下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.021.png" width="478" height="204" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">VSS</span><span style="font-family:宋体; font-size:10.5pt">为地电源。 </span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">VDD</span><span style="font-family:宋体; font-size:10.5pt">接</span><span style="font-family:Calibri; font-size:10.5pt">5V</span><span style="font-family:宋体; font-size:10.5pt">正电源。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">VL</span><span style="font-family:宋体; font-size:10.5pt">为液晶显示器对比度调整端，接正电源时对比度最弱，接地时对比度最高，对比度过高时会产生“鬼影”，使用时可以通过一个</span><span style="font-family:Calibri; font-size:10.5pt">10K</span><span style="font-family:宋体; font-size:10.5pt">的电位器调整对比度。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">RS</span><span style="font-family:宋体; font-size:10.5pt">为寄存器选择，高电平时选择数据寄存器、低电平时选择指令寄存器。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">5</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">R/W</span><span style="font-family:宋体; font-size:10.5pt">为读写信号线，高电平时进行读操作，低电平时进行写操作。当</span><span style="font-family:Calibri; font-size:10.5pt">RS</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">R/W</span><span style="font-family:宋体; font-size:10.5pt">共同为低电平时可以写入指令或者显示地址，当</span><span style="font-family:Calibri; font-size:10.5pt">RS</span><span style="font-family:宋体; font-size:10.5pt">为低电平</span><span style="font-family:Calibri; font-size:10.5pt">R/W</span><span style="font-family:宋体; font-size:10.5pt">为高电平时可以读忙信号，当</span><span style="font-family:Calibri; font-size:10.5pt">RS</span><span style="font-family:宋体; font-size:10.5pt">为高电平</span><span style="font-family:Calibri; font-size:10.5pt">R/W</span><span style="font-family:宋体; font-size:10.5pt">为低电平时可以写入数据。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">6</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">E</span><span style="font-family:宋体; font-size:10.5pt">端为使能端，当</span><span style="font-family:Calibri; font-size:10.5pt">E</span><span style="font-family:宋体; font-size:10.5pt">端由高电平跳变成低电平时，液晶模块执行命令。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">14</span><span style="font-family:宋体; font-size:10.5pt">脚：</span><span style="font-family:Calibri; font-size:10.5pt">D0</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">D7</span><span style="font-family:宋体; font-size:10.5pt">为</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位双向数据线。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">15</span><span style="font-family:宋体; font-size:10.5pt">脚：背光源正极（无背光器件无此管脚）。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">第</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">脚：背光源负极（无背光器件无此管脚）。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; text-indent:21pt; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602</span><span style="font-family:宋体; font-size:10.5pt">液晶模块内部的控制器共有</span><span style="font-family:Calibri; font-size:10.5pt">11</span><span style="font-family:宋体; font-size:10.5pt">条控制指令，如</span><span style="font-family:宋体; font-size:10.5pt">下所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.022.png" width="460" height="220" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602</span><span style="font-family:宋体; font-size:10.5pt">液晶模块的读写操作、屏幕和光标的操作都是通过指令编程来实现的。（说明：</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">为高电平、</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">为低电平）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">：清显示，指令码</span><span style="font-family:Calibri; font-size:10.5pt">01H,</span><span style="font-family:宋体; font-size:10.5pt">光标复位到地址</span><span style="font-family:Calibri; font-size:10.5pt">00H</span><span style="font-family:宋体; font-size:10.5pt">位置。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">：光标复位，光标返回到地址</span><span style="font-family:Calibri; font-size:10.5pt">00H</span><span style="font-family:宋体; font-size:10.5pt">。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">：光标和显示模式设置 </span><span style="font-family:Calibri; font-size:10.5pt">I/D</span><span style="font-family:宋体; font-size:10.5pt">：光标移动方向，高电平右移，低电平左移 </span><span style="font-family:Calibri; font-size:10.5pt">S:</span><span style="font-family:宋体; font-size:10.5pt">屏幕上所有文字是否左移或者右移。高电平表示有效，低电平则无效。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">：显示开关控制。 </span><span style="font-family:Calibri; font-size:10.5pt">D</span><span style="font-family:宋体; font-size:10.5pt">：控制整体显示的开与关，高电平表示开显示，低电平表示关显示 </span><span style="font-family:Calibri; font-size:10.5pt">C</span><span style="font-family:宋体; font-size:10.5pt">：控制光标的开与关，高电平表示有光标，低电平表示无光标 </span><span style="font-family:Calibri; font-size:10.5pt">B</span><span style="font-family:宋体; font-size:10.5pt">：控制光标是否闪烁，高电平闪烁，低电平不闪烁。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">5</span><span style="font-family:宋体; font-size:10.5pt">：光标或显示移位 </span><span style="font-family:Calibri; font-size:10.5pt">S/C</span><span style="font-family:宋体; font-size:10.5pt">：高电平时移动显示的文字，低电平时移动光标。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">6</span><span style="font-family:宋体; font-size:10.5pt">：功能设置命令 </span><span style="font-family:Calibri; font-size:10.5pt">DL</span><span style="font-family:宋体; font-size:10.5pt">：高电平时为</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">位总线，低电平时为</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位总线 </span><span style="font-family:Calibri; font-size:10.5pt">N</span><span style="font-family:宋体; font-size:10.5pt">：低电平时为单行显示，高电平时双行显示 </span><span style="font-family:Calibri; font-size:10.5pt">F: </span><span style="font-family:宋体; font-size:10.5pt">低电平时显示</span><span style="font-family:Calibri; font-size:10.5pt">5x7</span><span style="font-family:宋体; font-size:10.5pt">的点阵字符，高电平时显示</span><span style="font-family:Calibri; font-size:10.5pt">5x10</span><span style="font-family:宋体; font-size:10.5pt">的点阵字符。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">：字符发生器</span><span style="font-family:Calibri; font-size:10.5pt">RAM</span><span style="font-family:宋体; font-size:10.5pt">地址设置。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">：</span><span style="font-family:Calibri; font-size:10.5pt">DDRAM</span><span style="font-family:宋体; font-size:10.5pt">地址设置。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">9</span><span style="font-family:宋体; font-size:10.5pt">：读忙信号和光标地址 </span><span style="font-family:Calibri; font-size:10.5pt">BF</span><span style="font-family:宋体; font-size:10.5pt">：为忙标志位，高电平表示忙，此时模块不能接收命令或者数据，如果为低电平表示不忙。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">10</span><span style="font-family:宋体; font-size:10.5pt">：写数据。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">指令</span><span style="font-family:Calibri; font-size:10.5pt">11</span><span style="font-family:宋体; font-size:10.5pt">：读数据。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">读写操作时序如图所示：</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.023.jpeg" width="362" height="164" alt="image128" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><span style="font-family:宋体; font-size:10.5pt">读操作时序</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.024.jpeg" width="367" height="177" alt="image130" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><span style="font-family:宋体; font-size:10.5pt">写操作时序</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">液晶显示模块是一个慢显示器件，所以在执行每条指令之前一定要确认模块的忙标志为低电平，表示不忙，否则此指令失效。要显示字符时要先输入显示字符地址，也就是告诉模块在哪里显示字符，图</span><span style="font-family:Calibri; font-size:10.5pt">10-57</span><span style="font-family:宋体; font-size:10.5pt">是</span><span style="font-family:Calibri; font-size:10.5pt">1602</span><span style="font-family:宋体; font-size:10.5pt">的内部显示地址。</span></p><p style="font-size:12pt; line-height:115%; margin:5pt 0pt; text-align:center"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.025.jpeg" width="368" height="133" alt="image132" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602LCD</span><span style="font-family:宋体; font-size:10.5pt">内部显示地址</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; text-indent:0.05pt; widows:0"><span style="font-family:宋体; font-size:10.5pt">例如第二行第一个字符的地址是</span><span style="font-family:Calibri; font-size:10.5pt">40H</span><span style="font-family:宋体; font-size:10.5pt">，那么是否直接写入</span><span style="font-family:Calibri; font-size:10.5pt">40H</span><span style="font-family:宋体; font-size:10.5pt">就可以将光标定位在第二行第一个字符的位置呢？这样不行，因为写入显示地址时要求最高位</span><span style="font-family:Calibri; font-size:10.5pt">D7</span><span style="font-family:宋体; font-size:10.5pt">恒定为高电平</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">所以实际写入的数据应该是</span><span style="font-family:Calibri; font-size:10.5pt">01000000B</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">40H</span><span style="font-family:宋体; font-size:10.5pt">）</span><span style="font-family:Calibri; font-size:10.5pt">+10000000B(80H)=11000000B(C0H)</span><span style="font-family:宋体; font-size:10.5pt">。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; text-indent:0.05pt; widows:0"><span style="font-family:宋体; font-size:10.5pt">在对液晶模块的初始化中要先设置其显示模式，在液晶模块显示字符时光标是自动右移的，无需人工干预。每次输入指令前都要判断液晶模块是否处于忙的状态。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; text-indent:0.05pt; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602</span><span style="font-family:宋体; font-size:10.5pt">液晶模块内部的字符发生存储器（</span><span style="font-family:Calibri; font-size:10.5pt">CGROM</span><span style="font-family:宋体; font-size:10.5pt">）已经存储了</span><span style="font-family:Calibri; font-size:10.5pt">160</span><span style="font-family:宋体; font-size:10.5pt">个不同的点阵字符图形，如图</span><span style="font-family:Calibri; font-size:10.5pt">10-58</span><span style="font-family:宋体; font-size:10.5pt">所示，这些字符有：阿拉伯数字、英文字母的大小写、常用的符号、和日文假名等，每一个字符都有一个固定的代码，比如大写的英文字母</span><span style="font-family:Calibri; font-size:10.5pt">“A”</span><span style="font-family:宋体; font-size:10.5pt">的代码是</span><span style="font-family:Calibri; font-size:10.5pt">01000001B</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">41H</span><span style="font-family:宋体; font-size:10.5pt">），显示时模块把地址</span><span style="font-family:Calibri; font-size:10.5pt">41H</span><span style="font-family:宋体; font-size:10.5pt">中的点阵字符图形显示出来，我们就能看到字母</span><span style="font-family:Calibri; font-size:10.5pt">“A”</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.026.png" width="422" height="276" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><span style="font-family:宋体; font-size:10.5pt">字符代码与图形对应图</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">1602LCD</span><span style="font-family:宋体; font-size:10.5pt">的一般初始化（复位）过程</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">延时</span><span style="font-family:Calibri; font-size:10.5pt">15mS</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">38H</span><span style="font-family:宋体; font-size:10.5pt">（不检测忙信号）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">延时</span><span style="font-family:Calibri; font-size:10.5pt">5mS</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">38H</span><span style="font-family:宋体; font-size:10.5pt">（不检测忙信号）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">延时</span><span style="font-family:Calibri; font-size:10.5pt">5mS</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">38H</span><span style="font-family:宋体; font-size:10.5pt">（不检测忙信号）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">以后每次写指令、读</span><span style="font-family:Calibri; font-size:10.5pt">/</span><span style="font-family:宋体; font-size:10.5pt">写数据操作均需要检测忙信号</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">38H</span><span style="font-family:宋体; font-size:10.5pt">：显示模式设置</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">08H</span><span style="font-family:宋体; font-size:10.5pt">：显示关闭</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">01H</span><span style="font-family:宋体; font-size:10.5pt">：显示清屏</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">06H</span><span style="font-family:宋体; font-size:10.5pt">：显示光标移动设置</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">写指令</span><span style="font-family:Calibri; font-size:10.5pt">0CH</span><span style="font-family:宋体; font-size:10.5pt">：显示开及光标设置</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009650"><span style="font-family:Calibri; font-size:16pt; font-weight:bold">VGA</span><span style="font-family:宋体; font-size:16pt; font-weight:bold">接口</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">Video Graphics Array</span><span style="font-family:宋体; font-size:10.5pt">）视频图形阵列是</span><span style="font-family:Calibri; font-size:10.5pt">IBM</span><span style="font-family:宋体; font-size:10.5pt">于</span><span style="font-family:Calibri; font-size:10.5pt">1987</span><span style="font-family:宋体; font-size:10.5pt">年提出的一个使用模拟信号的电脑显示标准。</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口即电脑采用</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">标准输出数据的专用接口。</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口共有</span><span style="font-family:Calibri; font-size:10.5pt">15</span><span style="font-family:宋体; font-size:10.5pt">针，分成</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">排，每排</span><span style="font-family:Calibri; font-size:10.5pt">5</span><span style="font-family:宋体; font-size:10.5pt">个孔，显卡上应用最为广泛的接口类型，绝大多数显卡都带有此种接口。它传输红、绿、蓝模拟信号以及同步信号</span><span style="font-family:Calibri; font-size:10.5pt">(</span><span style="font-family:宋体; font-size:10.5pt">水平和垂直信号</span><span style="font-family:Calibri; font-size:10.5pt">)</span><span style="font-family:宋体; font-size:10.5pt">。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><a href="http://baike.baidu.com/pic/VGAæ¥å£/909309/0/a8405208013d86ca0a7b82b8?fr=lemma%26ct=single"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.027.jpeg" width="221" height="166" alt="VGA" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline; border:none" /></a></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">V</span><span style="font-family:Calibri; font-size:10.5pt">GA</span><span style="font-family:宋体; font-size:10.5pt">接口是一种</span><span style="font-family:Calibri; font-size:10.5pt">D</span><span style="font-family:宋体; font-size:10.5pt">型接口，上面共有</span><span style="font-family:Calibri; font-size:10.5pt">15</span><span style="font-family:宋体; font-size:10.5pt">针孔，分成三排，每排五个。其中，除了</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">根</span><span style="font-family:Calibri; font-size:10.5pt">NC</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">Not Connect)</span><span style="font-family:宋体; font-size:10.5pt">信号、</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">根显示数据总线和</span><span style="font-family:Calibri; font-size:10.5pt">5</span><span style="font-family:宋体; font-size:10.5pt">个</span><span style="font-family:Calibri; font-size:10.5pt">GND</span><span style="font-family:宋体; font-size:10.5pt">信号，比较重要的是</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">根</span><span style="font-family:Calibri; font-size:10.5pt">RGB</span><span style="font-family:宋体; font-size:10.5pt">彩色分量信号和</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">根扫描同步信号</span><span style="font-family:Calibri; font-size:10.5pt">HSYNC</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">VSYNC</span><span style="font-family:宋体; font-size:10.5pt">针。</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口中彩色分量采用</span><span style="font-family:Calibri; font-size:10.5pt">RS343</span><span style="font-family:宋体; font-size:10.5pt">电平标准。</span><span style="font-family:Calibri; font-size:10.5pt">RS343</span><span style="font-family:宋体; font-size:10.5pt">电平标准的峰值电压为</span><span style="font-family:Calibri; font-size:10.5pt">1V</span><span style="font-family:宋体; font-size:10.5pt">。</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口是显卡上应用最为广泛的接口类型，多数的显卡都带有此种接口。有些不带</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口而带有</span><span style="font-family:Calibri; font-size:10.5pt">DVI(Digital Visual Interface</span><span style="font-family:宋体; font-size:10.5pt">数字视频接口）接口的显卡，也可以通过一个简单的转接头将</span><span style="font-family:Calibri; font-size:10.5pt">DVI</span><span style="font-family:宋体; font-size:10.5pt">接口转成</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口，通常没有</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口的显卡会附赠这样的转接头。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">大多数计算机与外部显示设备之间都是通过模拟</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口连接，计算机内部以数字方式生成的显示图像信息，被显卡中的数字</span><span style="font-family:Calibri; font-size:10.5pt">/</span><span style="font-family:宋体; font-size:10.5pt">模拟转换器转变为</span><span style="font-family:Calibri; font-size:10.5pt">R</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">G</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">B</span><span style="font-family:宋体; font-size:10.5pt">三原色信号和行、场同步信号，信号通过电缆传输到显示设备中。对于模拟显示设备，如模拟</span><span style="font-family:Calibri; font-size:10.5pt">CRT</span><span style="font-family:宋体; font-size:10.5pt">显示器，信号被直接送到相应的处理电路，驱动控制显像管生成图像。而对于</span><span style="font-family:Calibri; font-size:10.5pt">LCD</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">DLP</span><span style="font-family:宋体; font-size:10.5pt">等数字显示设备，显示设备中需配置相应的</span><span style="font-family:Calibri; font-size:10.5pt">A/D</span><span style="font-family:宋体; font-size:10.5pt">（模拟</span><span style="font-family:Calibri; font-size:10.5pt">/</span><span style="font-family:宋体; font-size:10.5pt">数字）转换器，将模拟信号转变为数字信号。在经过</span><span style="font-family:Calibri; font-size:10.5pt">D/A</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">A/D</span><span style="font-family:宋体; font-size:10.5pt">两次转换后，不可避免地造成了一些图像细节的损失。</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口应用于</span><span style="font-family:Calibri; font-size:10.5pt">CRT</span><span style="font-family:宋体; font-size:10.5pt">显示器无可厚非，但用于连接液晶之类的显示设备，则转换过程的图像损失会使显示效果略微下降。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">而且可以从接口处来判断显卡是独显还是集成显卡，</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口竖置的说明是集成显卡，</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">接口横置说明是独立显卡（一般的台式主机都可以用此方法来查看）</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.028.png" width="525" height="229" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">显示器扫描方式分为逐行扫描和隔行扫描：逐行扫描是扫描从屏幕左上角一点开始，从左像右逐点扫描，每扫描完一行</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">电子束回到屏幕的左边下一行的起始位置，在这期间，</span><span style="font-family:Calibri; font-size:10.5pt">CRT</span><span style="font-family:宋体; font-size:10.5pt">对电子束进行消隐，每行结束时，用行同步信号进行同步；当扫描完所有的行，形成一帧，用场同步信号进行场同步，并使扫描回到屏幕左上方，同时进行场消隐</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">开始下一帧。隔行扫描是指电子束扫描时每隔一行扫一线，完成一屏后在返回来扫描剩下的线，隔行扫描的显示器闪烁的厉害，会让使用者的眼睛疲劳。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">　　完成一行扫描的时间称为水平扫描时间，其倒数称为行频率；完成一帧（整屏）扫描的时间称为垂直扫描时间，其倒数称为场频率，即刷新一屏的频率，常见的有</span><span style="font-family:Calibri; font-size:10.5pt">60Hz</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">75Hz</span><span style="font-family:宋体; font-size:10.5pt">等等。标准的</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">显示的场频</span><span style="font-family:Calibri; font-size:10.5pt">60Hz,</span><span style="font-family:宋体; font-size:10.5pt">行频</span><span style="font-family:Calibri; font-size:10.5pt">31.5KHz</span><span style="font-family:宋体; font-size:10.5pt">。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">　　行场消隐信号</span><span style="font-family:Calibri; font-size:10.5pt">:</span><span style="font-family:宋体; font-size:10.5pt">是针对老式显像管的成像扫描电路而言的。电子枪所发出的电子束从屏幕的左上角开始向右扫描，一行扫完需将电子束从右边移回到左边以便扫描第二行。在移动期间就必须有一个信号加到电路上，使得电子束不能发出。不然这个回扫线会破坏屏幕图像的。这个阻止回扫线产生的信号就叫作消隐信号</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">场信号的消隐也是一个道理。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">　　显示带宽</span><span style="font-family:Calibri; font-size:10.5pt">:</span><span style="font-family:宋体; font-size:10.5pt">带宽指的显示器可以处理的频率范围。如果是</span><span style="font-family:Calibri; font-size:10.5pt">60Hz</span><span style="font-family:宋体; font-size:10.5pt">刷新频率的</span><span style="font-family:Calibri; font-size:10.5pt">VGA,</span><span style="font-family:宋体; font-size:10.5pt">其带宽达</span><span style="font-family:Calibri; font-size:10.5pt">640x480x60=18.4MHz,70Hz</span><span style="font-family:宋体; font-size:10.5pt">的刷新频率</span><span style="font-family:Calibri; font-size:10.5pt">1024x768</span><span style="font-family:宋体; font-size:10.5pt">分辨率的</span><span style="font-family:Calibri; font-size:10.5pt">SVGA,</span><span style="font-family:宋体; font-size:10.5pt">其带宽达</span><span style="font-family:Calibri; font-size:10.5pt">1024x768x70=55.1MHz</span><span style="font-family:宋体; font-size:10.5pt">。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">　　时钟频率：以</span><span style="font-family:Calibri; font-size:10.5pt">640x480@59.94Hz(60Hz)</span><span style="font-family:宋体; font-size:10.5pt">为例，每场对应</span><span style="font-family:Calibri; font-size:10.5pt">525</span><span style="font-family:宋体; font-size:10.5pt">个行周期</span><span style="font-family:Calibri; font-size:10.5pt">(525=10+2+480+33),</span><span style="font-family:宋体; font-size:10.5pt">其中</span><span style="font-family:Calibri; font-size:10.5pt">480</span><span style="font-family:宋体; font-size:10.5pt">为显示行。每场有场同步信号</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">该脉冲宽度为</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">个行周期的负脉冲，每显示行包括</span><span style="font-family:Calibri; font-size:10.5pt">800</span><span style="font-family:宋体; font-size:10.5pt">点时钟</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">其中</span><span style="font-family:Calibri; font-size:10.5pt">640</span><span style="font-family:宋体; font-size:10.5pt">点为有效显示区</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">每一行有一个行同步信号，该脉冲宽度为</span><span style="font-family:Calibri; font-size:10.5pt">96</span><span style="font-family:宋体; font-size:10.5pt">个点时钟。由此可知：行频为</span><span style="font-family:Calibri; font-size:10.5pt">525*59.94=31469Hz,</span><span style="font-family:宋体; font-size:10.5pt">需要点时钟频率：</span><span style="font-family:Calibri; font-size:10.5pt">525*800*59.94</span><span style="font-family:宋体; font-size:10.5pt">约</span><span style="font-family:Calibri; font-size:10.5pt">25MHz.</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.029.jpeg" width="359" height="368" alt="http://pic002.cnblogs.com/images/2011/153456/2011081614364992.jpg" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.030.jpeg" width="377" height="281" alt="http://pic002.cnblogs.com/images/2011/153456/2011081613565760.jpg" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">VESA</span><span style="font-family:宋体; font-size:10.5pt">中定义行时序和场时序都需要同步脉冲（</span><span style="font-family:Calibri; font-size:10.5pt">Sync a</span><span style="font-family:宋体; font-size:10.5pt">）、显示后沿（</span><span style="font-family:Calibri; font-size:10.5pt">Back porch b</span><span style="font-family:宋体; font-size:10.5pt">）、显示时序段（</span><span style="font-family:Calibri; font-size:10.5pt">Display interval c</span><span style="font-family:宋体; font-size:10.5pt">）和显示前沿（</span><span style="font-family:Calibri; font-size:10.5pt">Front porch d</span><span style="font-family:宋体; font-size:10.5pt">）四部分。</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">工业标准显示模式要求：行同步，场同步都为负极性，即同步脉冲要求是负脉冲。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">　　由</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">的行时序可知：没一行都有一个负极性行同步脉冲（</span><span style="font-family:Calibri; font-size:10.5pt">Sync a</span><span style="font-family:宋体; font-size:10.5pt">），是数据行的结束标志，同时也是下一行的开始标志。在同步脉冲之后为显示后沿（</span><span style="font-family:Calibri; font-size:10.5pt">Back porch b</span><span style="font-family:宋体; font-size:10.5pt">），在显示时序段（</span><span style="font-family:Calibri; font-size:10.5pt">Display interval c</span><span style="font-family:宋体; font-size:10.5pt">）显示器为亮的过程，</span><span style="font-family:Calibri; font-size:10.5pt">RGB</span><span style="font-family:宋体; font-size:10.5pt">数据驱动一行上的每一个像素点，从而显示一行。在一行的最后为显示前沿（</span><span style="font-family:Calibri; font-size:10.5pt">Front porch d</span><span style="font-family:宋体; font-size:10.5pt">）。在显示时间段（</span><span style="font-family:Calibri; font-size:10.5pt">Display interval c</span><span style="font-family:宋体; font-size:10.5pt">）之外没有图像投射到屏幕是插入消隐信号。同步脉冲</span><span style="font-family:Calibri; font-size:10.5pt">(Sync a)</span><span style="font-family:宋体; font-size:10.5pt">、显示后沿（</span><span style="font-family:Calibri; font-size:10.5pt">Back porch b</span><span style="font-family:宋体; font-size:10.5pt">）和显示前沿（</span><span style="font-family:Calibri; font-size:10.5pt">Front porch d</span><span style="font-family:宋体; font-size:10.5pt">）都是在行消隐间隔内</span><span style="font-family:Calibri; font-size:10.5pt">(Horizontal Blanking Interval)</span><span style="font-family:宋体; font-size:10.5pt">，当消隐有效时，</span><span style="font-family:Calibri; font-size:10.5pt">RGB</span><span style="font-family:宋体; font-size:10.5pt">信号无效，屏幕不显示数据。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">　　</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">的场时序与行时序基本一样，每一帧的负极性脉冲（</span><span style="font-family:Calibri; font-size:10.5pt">Sync a</span><span style="font-family:宋体; font-size:10.5pt">）是一帧的结束标志，同时也是下一帧的开始标志。而显示数据是一帧的所有行数据。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">下面以</span><span style="font-family:Calibri; font-size:10.5pt">800x600@60Hz</span><span style="font-family:宋体; font-size:10.5pt">分辨率威力详细讲解</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">时序</span><span style="font-family:Calibri; font-size:10.5pt">:</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.031.jpeg" width="423" height="117" alt="http://pic002.cnblogs.com/images/2011/153456/2011081614181431.jpg" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.032.jpeg" width="425" height="166" alt="http://pic002.cnblogs.com/images/2011/153456/2011081614183525.jpg" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.033.jpeg" width="360" height="332" alt="http://pic002.cnblogs.com/images/2011/153456/2011081614190729.jpg" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">为简化设计，本实验平台采用的是</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位，</span><span style="font-family:Calibri; font-size:10.5pt">256</span><span style="font-family:宋体; font-size:10.5pt">色的</span><span style="font-family:Calibri; font-size:10.5pt">VGA</span><span style="font-family:宋体; font-size:10.5pt">视频接口，如下图所示，通过不同阻值的限流电阻，将数字信号转换成模拟信号。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.034.png" width="341" height="220" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009651"><span style="font-family:Calibri; font-size:16pt; font-weight:bold">RS232</span><span style="font-family:宋体; font-size:16pt; font-weight:bold">接口</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">串口是计算机上一种非常通用的设备通信协议</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.035.png" width="423" height="132" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.036.png" width="324" height="325" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">两个串口连接时，接收数据针脚与发送数据针脚相连，彼此交叉，信号地对应相接即可</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">RS-232</span><span style="font-family:宋体; font-size:10.5pt">串口通信最远距离是</span><span style="font-family:Calibri; font-size:10.5pt">50</span><span style="font-family:宋体; font-size:10.5pt">英尺</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">RS232</span><span style="font-family:宋体; font-size:10.5pt">可做到双向传输，全双工通讯，最高传输速率</span><span style="font-family:Calibri; font-size:10.5pt">20kbps</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">RS-232C</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">上传送的数字量采用负逻辑，且与地对称。逻辑</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">：</span><span style="font-family:Calibri; font-size:10.5pt">-3</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">-15V</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，逻辑</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">：</span><span style="font-family:Calibri; font-size:10.5pt">+3</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">+15V</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，所以与单片机连接时常常需要加入电平转换芯片，如下图所示</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.037.png" width="418" height="258" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">串口通信参数：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">a</span><span style="font-family:宋体; font-size:10.5pt">）波特率：</span><span style="font-family:Calibri; font-size:10.5pt">RS-232-C</span><span style="font-family:宋体; font-size:10.5pt">标准规定的数据传输速率为每秒</span><span style="font-family:Calibri; font-size:10.5pt">50</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">75</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">100</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">150</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">300</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">600</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">1200</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">2400</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">4800</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">9600</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">19200</span><span style="font-family:宋体; font-size:10.5pt">波特。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">b</span><span style="font-family:宋体; font-size:10.5pt">）数据位：标准的值是</span><span style="font-family:Calibri; font-size:10.5pt">5</span><span style="font-family:宋体; font-size:10.5pt">、</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位，如何设置取决于你想传送的信息。比如，标准的</span><span style="font-family:Calibri; font-size:10.5pt">ASCII</span><span style="font-family:宋体; font-size:10.5pt">码是</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">127</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">位）；扩展的</span><span style="font-family:Calibri; font-size:10.5pt">ASCII</span><span style="font-family:宋体; font-size:10.5pt">码是</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">～</span><span style="font-family:Calibri; font-size:10.5pt">255</span><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位）。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">c</span><span style="font-family:宋体; font-size:10.5pt">）停止位：用于表示单个包的最后一位，典型的值为</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">1.5</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">位。由于数是在传输线上定时的，并且每一个设备有其自己的时钟，很可能在通信中两台设备间出现了小小的不同步。因此停止位不仅仅是表示传输的结束，并且提供计算机校正时钟同步的机会。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">d</span><span style="font-family:宋体; font-size:10.5pt">）奇偶校验位：在串口通信中一种简单的检错方式。对于偶和奇校验的情况，串口会设置校验位（数据位后面的一位），用一个值确保传输的数据有偶个或者奇个逻辑高位。例如，如果数据是</span><span style="font-family:Calibri; font-size:10.5pt">011</span><span style="font-family:宋体; font-size:10.5pt">，那么对于偶校验，校验位为</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">，保证逻辑高的位数是偶数个。如果是奇校验，校验位位</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，这样就有</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">个逻辑高位。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">串口通信的传输格式：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">串行通信中，线路空闲时，线路的</span><span style="font-family:Calibri; font-size:10.5pt">TTL</span><span style="font-family:宋体; font-size:10.5pt">电平总是高，经反向</span><span style="font-family:Calibri; font-size:10.5pt">RS232</span><span style="font-family:宋体; font-size:10.5pt">的电平总是低。一个数据的开始</span><span style="font-family:Calibri; font-size:10.5pt">RS232</span><span style="font-family:宋体; font-size:10.5pt">线路为高电平，结束时</span><span style="font-family:Calibri; font-size:10.5pt">Rs232</span><span style="font-family:宋体; font-size:10.5pt">为低电平。数据总是从低位向高位一位一位的传输。示波器读数时，左边是数据的高位。例如，对于</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">进制数据</span><span style="font-family:Calibri; font-size:10.5pt">55aaH</span><span style="font-family:宋体; font-size:10.5pt">，当采用</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">位数据位、</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">位停止位传输时，它在信号线上的波形如图所示。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">55H=01010101B</span><span style="font-family:宋体; font-size:10.5pt">，取反后</span><span style="font-family:Calibri; font-size:10.5pt">10101010B</span><span style="font-family:宋体; font-size:10.5pt">，加入一个起始位</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，一个停止位</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">55H</span><span style="font-family:宋体; font-size:10.5pt">的数据格式为</span><span style="font-family:Calibri; font-size:10.5pt">1010101010B</span><span style="font-family:宋体; font-size:10.5pt">；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">aaH=10101010B</span><span style="font-family:宋体; font-size:10.5pt">，取反后</span><span style="font-family:Calibri; font-size:10.5pt">01010101B</span><span style="font-family:宋体; font-size:10.5pt">，加入一个起始位</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，一个停止位</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">55H</span><span style="font-family:宋体; font-size:10.5pt">的数据格式为</span><span style="font-family:Calibri; font-size:10.5pt">1101010100B</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.038.png" width="460" height="136" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.039.png" width="454" height="127" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">串口通信的接收过程：（异步通信：接收器和发送器有各自的时钟；同步通信：发送器和接收器由同一个时钟源控制。</span><span style="font-family:Calibri; font-size:10.5pt">RS232</span><span style="font-family:宋体; font-size:10.5pt">是异步通信）</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">）开始通信时，信号线为空闲（逻辑</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">）</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">当检测到由</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">到</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">的跳变时，开始对“接收时钟”计数。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:宋体; font-size:10.5pt">）当计到</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">个时钟时，对输入信号进行检测，若仍为低电平，则确认这是“起始位”，而不是干扰信号。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">）接收端检测到起始位后，隔</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">个接收时钟，对输入信号检测一次，把对应的值作为</span><span style="font-family:Calibri; font-size:10.5pt">D0</span><span style="font-family:宋体; font-size:10.5pt">位数据。若为逻辑</span><span style="font-family:Calibri; font-size:10.5pt">1,</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">作为数据位</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">；若为逻辑</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">，作为数据位</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">）再隔</span><span style="font-family:Calibri; font-size:10.5pt">16</span><span style="font-family:宋体; font-size:10.5pt">个接收时钟，对输入信号检测一次，把对应的值作为</span><span style="font-family:Calibri; font-size:10.5pt">D1</span><span style="font-family:宋体; font-size:10.5pt">位数据。„</span><span style="font-family:Calibri; font-size:10.5pt">.</span><span style="font-family:宋体; font-size:10.5pt">，直到全部数据位都输入。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">5</span><span style="font-family:宋体; font-size:10.5pt">）检测校验位</span><span style="font-family:Calibri; font-size:10.5pt">P</span><span style="font-family:宋体; font-size:10.5pt">（如果有的话）。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">6</span><span style="font-family:宋体; font-size:10.5pt">）接收到规定的数据位个数和校验位后</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">通信接口电路希望收到停止位</span><span style="font-family:Calibri; font-size:10.5pt">S(</span><span style="font-family:宋体; font-size:10.5pt">逻辑</span><span style="font-family:Calibri; font-size:10.5pt">1)</span><span style="font-family:宋体; font-size:10.5pt">，若此时未收到逻辑</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">，说明出现了错误，在状态寄存器中置“帧错误”标志。若没有错误，对全部数据位进行奇偶校验，无校验错时，把数据位从移位寄存器中送数据输入寄存器。若校验错，在状态寄存器中置奇偶错标志。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">7</span><span style="font-family:宋体; font-size:10.5pt">）本幀信息全部接收完，把线路上出现的高电平作为空闲位。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; text-indent:0pt; widows:0"><span style="font-family:宋体; font-size:10.5pt">（</span><span style="font-family:Calibri; font-size:10.5pt">8</span><span style="font-family:宋体; font-size:10.5pt">）</span><span style="font:7.0pt 'Times New Roman'">&#xa0;&#xa0; </span><span style="font-family:宋体; font-size:10.5pt">当信号再次变为低时，开始进入下一幀的检测。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.040.png" width="369" height="188" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">单片机常用</span><span style="font-family:Calibri; font-size:10.5pt">11.0592M</span><span style="font-family:宋体; font-size:10.5pt">的的晶振，这个奇怪数字是有来历的：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">波特率为</span><span style="font-family:Calibri; font-size:10.5pt">9600BPS</span><span style="font-family:宋体; font-size:10.5pt">每位位宽</span><span style="font-family:Calibri; font-size:10.5pt">t1=1/9600s</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">晶振周期</span><span style="font-family:Calibri; font-size:10.5pt">t2=1/11.0592/1000000S</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">单片机机器周期</span><span style="font-family:Calibri; font-size:10.5pt">t3=12*t2</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">t1/t3=96</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，即对于</span><span style="font-family:Calibri; font-size:10.5pt">9600BPS</span><span style="font-family:宋体; font-size:10.5pt">的串口，单片机对其以</span><span style="font-family:Calibri; font-size:10.5pt">96</span><span style="font-family:宋体; font-size:10.5pt">倍的速率进行采样。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">如果单片机晶振用的不正确，会对串口接受产生误码。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><h3 style="font-size:16pt; line-height:173%; margin:13pt 0pt; orphans:0; page-break-after:avoid; page-break-inside:avoid; text-align:justify; widows:0"><a name="_Toc458009652"><span style="font-family:Calibri; font-size:16pt; font-weight:bold">PS2</span><span style="font-family:宋体; font-size:16pt; font-weight:bold">接口</span></a></h3><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">PS/2</span><span style="font-family:宋体; font-size:10.5pt">接口用于许多现代的鼠标和键盘</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">由</span><span style="font-family:Calibri; font-size:10.5pt">IBM</span><span style="font-family:宋体; font-size:10.5pt">最初开发和使用</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">物理上的</span><span style="font-family:Calibri; font-size:10.5pt">PS/2</span><span style="font-family:宋体; font-size:10.5pt">接口有两种类型的连接器</span><span style="font-family:Calibri; font-size:10.5pt">:5</span><span style="font-family:宋体; font-size:10.5pt">脚的</span><span style="font-family:Calibri; font-size:10.5pt">DIN</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">6</span><span style="font-family:宋体; font-size:10.5pt">脚的</span><span style="font-family:Calibri; font-size:10.5pt">mini-DIN</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">图</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">就是两种连接器的引脚定义</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">使用中</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">主机提供</span><span style="font-family:Calibri; font-size:10.5pt">+5V</span><span style="font-family:宋体; font-size:10.5pt">电源给鼠标</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">鼠标的地连接到主机电源地上</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.041.jpeg" width="474" height="170" alt="clip_image001" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">PS/2</span><span style="font-family:宋体; font-size:10.5pt">鼠标接口采用一种双向同步串行协议</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">即每在时钟线上发一个脉冲</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">就在数据线上发送一位数据</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">在相互传输中</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">主机拥有总线控制权</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">即它可以在任何时候抑制鼠标的发送</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">方法是把时钟线一直拉低</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">鼠标就不能产生时钟信号和发送数据</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">在两个方向的传输中</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">时钟信号都是由鼠标产生</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">即主机不产生通信时钟信号</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt"> 如果主机要发送数据</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">它必须控制鼠标产生时钟信号</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">方法如下</span><span style="font-family:Calibri; font-size:10.5pt">:</span><span style="font-family:宋体; font-size:10.5pt">主机首先下拉时钟线至少</span><span style="font-family:Calibri; font-size:10.5pt">100μs</span><span style="font-family:宋体; font-size:10.5pt">抑制通信</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">然后再下拉数据线</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">最后释放时钟线</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">通过这一时序控制鼠标产生时钟信号</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">当鼠标检测到这个时序状态</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">会在</span><span style="font-family:Calibri; font-size:10.5pt">10ms</span><span style="font-family:宋体; font-size:10.5pt">内产生时钟信号</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">如图</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">中 </span><span style="font-family:Calibri; font-size:10.5pt">A </span><span style="font-family:宋体; font-size:10.5pt">时序段</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">主机和鼠标之间</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">传输数据帧的时序如图</span><span style="font-family:Calibri; font-size:10.5pt">2</span><span style="font-family:'MS Mincho'; font-size:10.5pt">､</span><span style="font-family:宋体; font-size:10.5pt">图</span><span style="font-family:Calibri; font-size:10.5pt">3</span><span style="font-family:宋体; font-size:10.5pt">所示</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:Calibri; font-size:10.5pt">2.2 </span><span style="font-family:宋体; font-size:10.5pt">数据包结构在主机程序中</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">利用每个数据位的时钟脉冲触发中断</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">在中断例程中实现数据位的判断和接收</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">在实验过程中</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">通过合适的编程</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">能够正确控制并接收鼠标数据</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">但该方案有一点不足</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">由于每个</span><span style="font-family:Calibri; font-size:10.5pt">CLOCK</span><span style="font-family:宋体; font-size:10.5pt">都要产生一次中断</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">中断频繁</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">需要耗用大量的主机资源</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.042.jpeg" width="242" height="76" alt="clip_image001[5]" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.043.jpeg" width="240" height="92" alt="clip_image001[7]" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">PS/2</span><span style="font-family:宋体; font-size:10.5pt">鼠标的四种工作模式是</span><span style="font-family:Calibri; font-size:10.5pt">:Reset</span><span style="font-family:宋体; font-size:10.5pt">模式</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">当鼠标上电或主机发复位命令 </span><span style="font-family:Calibri; font-size:10.5pt">0xFF</span><span style="font-family:宋体; font-size:10.5pt">给它时进入这种模式</span><span style="font-family:Calibri; font-size:10.5pt">;Stream</span><span style="font-family:宋体; font-size:10.5pt">模式鼠标的默认模式</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">当鼠标上电或复位完成后</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">自动进入此模式</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">鼠标基本上以此模式工作</span><span style="font-family:Calibri; font-size:10.5pt">;Remote</span><span style="font-family:宋体; font-size:10.5pt">模式</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">只有在主机发送了模式设置命令 </span><span style="font-family:Calibri; font-size:10.5pt">0xF0</span><span style="font-family:宋体; font-size:10.5pt">后</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">鼠标才进入这种模式</span><span style="font-family:Calibri; font-size:10.5pt">;Wrap</span><span style="font-family:宋体; font-size:10.5pt">模式</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">这种模式只用于测试鼠标与主机连接是否正确</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:Calibri; font-size:10.5pt">PS/2</span><span style="font-family:宋体; font-size:10.5pt">鼠标在工作过程中</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">会及时把它的状态数据发送给主机</span><span style="font-family:'MS Mincho'; font-size:10.5pt">｡</span><span style="font-family:宋体; font-size:10.5pt">每次发送</span><span style="font-family:Calibri; font-size:10.5pt">4</span><span style="font-family:宋体; font-size:10.5pt">个字节：</span><span style="font-family:Calibri; font-size:10.5pt">BYTE1 BYTE2 BYTE3 BYTE4</span><br /><span style="font-family:宋体; font-size:10.5pt">定义分别是：</span><br /><span style="font-family:Calibri; font-size:10.5pt">BYTE1 --</span><br /><span style="font-family:Calibri; font-size:10.5pt">       |--bit7:   1   </span><span style="font-family:宋体; font-size:10.5pt">表示   </span><span style="font-family:Calibri; font-size:10.5pt">Y   </span><span style="font-family:宋体; font-size:10.5pt">坐标的变化量超出－</span><span style="font-family:Calibri; font-size:10.5pt">256   ~   255</span><span style="font-family:宋体; font-size:10.5pt">的范围</span><span style="font-family:Calibri; font-size:10.5pt">,0</span><span style="font-family:宋体; font-size:10.5pt">表示没有溢出</span><br /><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:Calibri; font-size:10.5pt">|--bit6:   1   </span><span style="font-family:宋体; font-size:10.5pt">表示   </span><span style="font-family:Calibri; font-size:10.5pt">X   </span><span style="font-family:宋体; font-size:10.5pt">坐标的变化量超出－</span><span style="font-family:Calibri; font-size:10.5pt">256   ~   255</span><span style="font-family:宋体; font-size:10.5pt">的范围，</span><span style="font-family:Calibri; font-size:10.5pt">0</span><span style="font-family:宋体; font-size:10.5pt">表示没有溢出</span><br /><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:Calibri; font-size:10.5pt">|--bit5:   Y   </span><span style="font-family:宋体; font-size:10.5pt">坐标变化的符号位，</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">表示负数，即鼠标向下移动</span><br /><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:Calibri; font-size:10.5pt">|--bit4:   X   </span><span style="font-family:宋体; font-size:10.5pt">坐标变化的符号位，</span><span style="font-family:Calibri; font-size:10.5pt">1</span><span style="font-family:宋体; font-size:10.5pt">表示负数，即鼠标向左移动</span><br /><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:Calibri; font-size:10.5pt">|--bit3:     </span><span style="font-family:宋体; font-size:10.5pt">恒为</span><span style="font-family:Calibri; font-size:10.5pt">1  </span><br /><span style="font-family:Calibri; font-size:10.5pt">       |--bit2:     1</span><span style="font-family:宋体; font-size:10.5pt">表示中键按下</span><br /><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:Calibri; font-size:10.5pt">|--bit1:     1</span><span style="font-family:宋体; font-size:10.5pt">表示右键按下</span><br /><span style="font-family:宋体; font-size:10.5pt">       </span><span style="font-family:Calibri; font-size:10.5pt">|--bit0:     1</span><span style="font-family:宋体; font-size:10.5pt">表示左键按下</span><br /><span style="font-family:Calibri; font-size:10.5pt">BYTE2 -- X</span><span style="font-family:宋体; font-size:10.5pt">坐标变化量，与</span><span style="font-family:Calibri; font-size:10.5pt">byte</span><span style="font-family:宋体; font-size:10.5pt">的</span><span style="font-family:Calibri; font-size:10.5pt">bit4</span><span style="font-family:宋体; font-size:10.5pt">组成</span><span style="font-family:Calibri; font-size:10.5pt">9</span><span style="font-family:宋体; font-size:10.5pt">位符号数</span><span style="font-family:Calibri; font-size:10.5pt">,</span><span style="font-family:宋体; font-size:10.5pt">负数表示向左移，正数表右移。用补码表示变化量</span><br /><span style="font-family:Calibri; font-size:10.5pt">BYTE3 -- Y</span><span style="font-family:宋体; font-size:10.5pt">坐标变化量，与</span><span style="font-family:Calibri; font-size:10.5pt">byte</span><span style="font-family:宋体; font-size:10.5pt">的</span><span style="font-family:Calibri; font-size:10.5pt">bit5</span><span style="font-family:宋体; font-size:10.5pt">组成</span><span style="font-family:Calibri; font-size:10.5pt">9</span><span style="font-family:宋体; font-size:10.5pt">位符号数，负数表示向下移，正数表上移。用补码表示变化量</span><br /><span style="font-family:Calibri; font-size:10.5pt">BYTE4 -- </span><span style="font-family:宋体; font-size:10.5pt">滚轮变化。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><a href="http://www.dz3w.com/pic/020905/1_11170616.JPG"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.044.jpeg" width="519" height="116" alt="clip_image001[9]" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline; border:none" /></a></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.045.png" width="554" height="140" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">如果数据位中１的个数为偶数，校验位就为１；如果数据位中１的个数为奇数，校验位就为０；总之，数据位中１的个数加上校验位中１的个数总为奇数，因此总进行奇校验。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">ps2</span><span style="font-family:宋体; font-size:10.5pt">设备的</span><span style="font-family:Calibri; font-size:10.5pt">clock</span><span style="font-family:宋体; font-size:10.5pt">和</span><span style="font-family:Calibri; font-size:10.5pt">data</span><span style="font-family:宋体; font-size:10.5pt">都是集电极开路的，平时都是高电平。当</span><span style="font-family:Calibri; font-size:10.5pt">ps2</span><span style="font-family:宋体; font-size:10.5pt">设备等待发送数据时，它首先检查</span><span style="font-family:Calibri; font-size:10.5pt">clock</span><span style="font-family:宋体; font-size:10.5pt">是否为高。如果为低，则认为</span><span style="font-family:Calibri; font-size:10.5pt">PC</span><span style="font-family:宋体; font-size:10.5pt">抑制了通讯，此时它缓冲数据直到获得总线的控制权。如果</span><span style="font-family:Calibri; font-size:10.5pt">clock</span><span style="font-family:宋体; font-size:10.5pt">为高电平，</span><span style="font-family:Calibri; font-size:10.5pt">ps2</span><span style="font-family:宋体; font-size:10.5pt">则开始向</span><span style="font-family:Calibri; font-size:10.5pt">PC</span><span style="font-family:宋体; font-size:10.5pt">发送数据。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">一般都是由</span><span style="font-family:Calibri; font-size:10.5pt">ps2</span><span style="font-family:宋体; font-size:10.5pt">设备产生时钟信号。发送按帧格式。数据位在</span><span style="font-family:Calibri; font-size:10.5pt">clock</span><span style="font-family:宋体; font-size:10.5pt">为高电平时准备好，在</span><span style="font-family:Calibri; font-size:10.5pt">clock</span><span style="font-family:宋体; font-size:10.5pt">下降沿被</span><span style="font-family:Calibri; font-size:10.5pt">PC</span><span style="font-family:宋体; font-size:10.5pt">读入。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">数据从键盘</span><span style="font-family:Calibri; font-size:10.5pt">/</span><span style="font-family:宋体; font-size:10.5pt">鼠标发送到主机或从主机发送到键盘</span><span style="font-family:Calibri; font-size:10.5pt">/</span><span style="font-family:宋体; font-size:10.5pt">鼠标，时钟都是</span><span style="font-family:Calibri; font-size:10.5pt">PS2</span><span style="font-family:宋体; font-size:10.5pt">设备产生</span><span style="font-family:Calibri; font-size:10.5pt">.</span><span style="font-family:宋体; font-size:10.5pt">主机对时钟控制有优先权，即主机想发送控制指令给</span><span style="font-family:Calibri; font-size:10.5pt">PS2</span><span style="font-family:宋体; font-size:10.5pt">设备时，可以拉低时钟线至少</span><span style="font-family:Calibri; font-size:10.5pt">100</span><span style="font-family:宋体; font-size:10.5pt">μ</span><span style="font-family:Calibri; font-size:10.5pt">S</span><span style="font-family:宋体; font-size:10.5pt">，然后再下拉数据线，最后释放时钟线为高。</span><span style="font-family:Calibri; font-size:10.5pt">PS2</span><span style="font-family:宋体; font-size:10.5pt">设备的时钟线和数据线都是集电极开路的，容易实现拉低电平。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">PC</span><span style="font-family:宋体; font-size:10.5pt">在时钟的下降沿读取数据</span><span style="font-family:Calibri; font-size:10.5pt">.</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">PS:</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">ps2</span><span style="font-family:宋体; font-size:10.5pt">协议是现在大多数鼠标，键盘与</span><span style="font-family:Calibri; font-size:10.5pt">PC</span><span style="font-family:宋体; font-size:10.5pt">通讯的标准协议，鼠标的通讯更为简单些，只是传送的数据内容不一样而已。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.046.png" width="366" height="200" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">从ＰＳ／２向ＰＣ机发送一个字节可按照下面的步骤进行：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">(</span><span style="font-family:宋体; font-size:10.5pt">１</span><span style="font-family:Calibri; font-size:10.5pt">)</span><span style="font-family:宋体; font-size:10.5pt">检测时钟线电平，如果时钟线为低，则延时５０μｓ；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">(</span><span style="font-family:宋体; font-size:10.5pt">２</span><span style="font-family:Calibri; font-size:10.5pt">)</span><span style="font-family:宋体; font-size:10.5pt">检测判断时钟信号是否为高，为高，则向下执行，为低，则转到</span><span style="font-family:Calibri; font-size:10.5pt">(</span><span style="font-family:宋体; font-size:10.5pt">１</span><span style="font-family:Calibri; font-size:10.5pt">)</span><span style="font-family:宋体; font-size:10.5pt">；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">(</span><span style="font-family:宋体; font-size:10.5pt">３</span><span style="font-family:Calibri; font-size:10.5pt">)</span><span style="font-family:宋体; font-size:10.5pt">检测数据线是否为高，如果为高则继续执行，如果为低，则放弃发送（此时ＰＣ机在向</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">ＰＳ／２设备发送数据，所以ＰＳ／２设备要转移到接收程序处接收数据）；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt"> </span><span style="font-family:Calibri; font-size:10.5pt">(</span><span style="font-family:宋体; font-size:10.5pt">４</span><span style="font-family:Calibri; font-size:10.5pt">)</span><span style="font-family:宋体; font-size:10.5pt">延时２０μｓ（如果此时正在发送起始位，则应延时４０μｓ）；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（５）输出起始位（０）到数据线上。这里要注意的是：在送出每一位后都要检测时钟线，以确保ＰＣ机没有抑制ＰＳ／２设备，如果有则中止发送；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（６）输出８个数据位到数据线上；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（７）输出校验位；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（８）输出停止位（１）；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（９）延时３０μｓ（如果在发送停止位时释放时钟信号则应延时５０μｓ）；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">通过以下步骤可发送单个位：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（１）准备数据位（将需要发送的数据位放到数据线上）；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（２）延时２０μｓ；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（３）把时钟线拉低；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（４）延时４０μｓ；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（５）释放时钟线；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（６）延时２０μｓ。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">ＰＳ／２设备从ＰＣ机接收一个字节</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">由于ＰＳ／２设备能提供串行同步时钟，因此，如果ＰＣ机发送数据，则ＰＣ机要先把时钟线和数据线置为请求发送的状态。ＰＣ机通过下拉时钟线大于１００μｓ来抑制通讯，并且通过下拉数据线发出请求发送数据的信号，然后释放时钟。当ＰＳ／２设备检测到需要接收的数据时，它会产生时钟信号并记录下面８个数据位和一个停止位。主机此时在时钟线变为低时准备数据到数据线，并在时钟上升沿锁存数据。而ＰＳ／２设备则要配合ＰＣ机才能读到准确的数据。具体连接步骤如下：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（１）等待时钟线为高电平。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（２）判断数据线是否为低，为高则错误退出，否则继续执行。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（３）读地址线上的数据内容，共８个ｂｉｔ，每读完一个位，都应检测时钟线是否被ＰＣ机拉低，如果被拉低则要中止接收。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（４）读地址线上的校验位内容，１个ｂｉｔ。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（５）读停止位。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（６）如果数据线上为０（即还是低电平），ＰＳ／２设备继续产生时钟，直到接收到１且产生出错信号为止（因为停止位是１，如果ＰＳ／２设备没有读到停止位，则表明此次传输出错）。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（７</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">输出应答位。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（８）</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">检测奇偶校验位，如果校验失败，则产生错误信号以表明此次传输出现错误。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">（９）延时４５</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">μｓ，以便ＰＣ机进行下一次传输。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">读数据线的步骤如下：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（１）延时２０μｓ；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（２）把时钟线拉低</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（３）延时４０μｓ</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（４）释放时钟线</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（５）延时２０μｓ</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（６）读数据线。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">下面的步骤可用于发出应答位；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（１）延时１５μｓ；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（２）把数据线拉低；</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（３）延时５μｓ；</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（４）把时钟线拉低；</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（５）延时４０μｓ；</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（６）释放时钟线；</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（７）延时５μｓ；</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">（８）释放数据线。</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">键盘的处理器如果发现有键被按下或释放将发送扫描码的信息包到计算机。扫描码有两种不同的类型：通码和断码。当一个键被按下就发送通码，当一个键被释放就发送断码。每个按键被分配了唯一的通码和断码。这样主机通过查找唯一的扫描码就可以测定是哪个按键。每个键一整套的通断码组成了扫描码集。有三套标准的扫描码集：分别是第一套，第二套和第三套。所有现代的键盘默认使用第二套扫描码。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">虽然多数第二套通码都只有一个字节宽，但也有少数扩展按键的通码是两字节或四字节宽。这类的通码第一个字节总是为</span><span style="font-family:Calibri; font-size:10.5pt">E0</span><span style="font-family:宋体; font-size:10.5pt">。</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">正如键按下通码就被发往计算机一样，只要键一释放断码就会被发送。每个键都有它自己唯一的通码和断码。幸运的是你不用总是通过查表来找出按键的断码。在通码和断码之间存在着必然的联系。多数第二套断码有两字节长。它们的第一个字节是</span><span style="font-family:Calibri; font-size:10.5pt">F0</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，第二个字节是这个键的通码。扩展按键的断码通常有三个字节，它们前两个字节是</span><span style="font-family:Calibri; font-size:10.5pt">E0h,F0h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，最后一个字节是这个按键通码的最后一个字节。下面列出了几个按键的第二套通码和断码：</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:center; widows:0"><img src="../../static/image/IO/132c3013-e9a2-43e5-a6a1-74b3eb5e0a5a.047.png" width="403" height="191" alt="" style="-aw-left-pos:0pt; -aw-rel-hpos:column; -aw-rel-vpos:paragraph; -aw-top-pos:0pt; -aw-wrap-type:inline" /></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:宋体; font-size:10.5pt">一个键盘发送值的例子</span><span style="font-family:Calibri; font-size:10.5pt">:</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">通码和断码是以什么样的序列发送到你的计算机从而使得字符</span><span style="font-family:Calibri; font-size:10.5pt">G</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">出现在你的字处理软件里的呢？因为这是一个大写字母，需要发生这样的事件次序：按下</span><span style="font-family:Calibri; font-size:10.5pt">Shift</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键</span><span style="font-family:Calibri; font-size:10.5pt">-</span><span style="font-family:宋体; font-size:10.5pt">按下</span><span style="font-family:Calibri; font-size:10.5pt">G</span><span style="font-family:宋体; font-size:10.5pt">键</span><span style="font-family:Calibri; font-size:10.5pt">-</span><span style="font-family:宋体; font-size:10.5pt">释放</span><span style="font-family:Calibri; font-size:10.5pt">G</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键</span><span style="font-family:Calibri; font-size:10.5pt">-</span><span style="font-family:宋体; font-size:10.5pt">释放</span><span style="font-family:Calibri; font-size:10.5pt">Shift</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键。与这些时间相关的扫描码如下：</span><span style="font-family:Calibri; font-size:10.5pt">Shift</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键的通码</span><span style="font-family:Calibri; font-size:10.5pt">12h</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">G</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键的通码</span><span style="font-family:Calibri; font-size:10.5pt">34h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">G</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键的断码</span><span style="font-family:Calibri; font-size:10.5pt">F0h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">34h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">，</span><span style="font-family:Calibri; font-size:10.5pt">Shift</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">键的断码</span><span style="font-family:Calibri; font-size:10.5pt">F0h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">12h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:宋体; font-size:10.5pt">。因此发送到你的计算机的数据应该是：</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">12h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">34h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">F0h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">34h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">F0h</span><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span><span style="font-family:Calibri; font-size:10.5pt">12h</span></p><p style="font-size:10.5pt; line-height:115%; margin:0pt 0pt 10pt; orphans:0; text-align:justify; widows:0"><span style="font-family:Calibri; font-size:10.5pt">&#xa0;</span></p></div><div class="cnzz" style="display: none;">
	        <script src="https://s23.cnzz.com/z_stat.php?id=1277655852&web_id=1277655852" language="JavaScript"></script>
            </div>

            </body></html>
{% endblock %}